# 20210225
## 오늘 한 일
[ GestureRecognizer ]
호오 뷰에 기반해서 붙혀주는 애들이었음
고로 뷰를 걍 버튼화하기 쌉가능
view.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(clickPresent)))
해제 문제는?

[ 한일 ]
- 뷰윌어피어에 네비바 나오기
- 쿠폰 상단 탭바 삭제 및 쿠폰 소스 대청소
- 권한 창 UI, 기능 완성
- 무료충전소 RV 띄우기, 오퍼월 띄우기 굳굳
- 비 로그인시 구독 불가, 영상 안뜨게 완료
- 구독 정보 변경시 노티로 리로드
- 비 로그인시 구독뷰에 가면 로그인뷰 프레젠트
- 서버측 토큰 거르는 작업 획일화 하는 중

등록금 완료
취업계 확인하기
- 졸업 예정자만 신청할 수 있다고 되어있는데, 언제 졸업예정자로 되는지? 개강해야하는건지..? 그러면 개강하자마자 출석은 어떻게..?
- 지금 4월 3일까지 계약직(4대보험)이고 이후에 정직원 채용될 수 있는 상황인데 이걸 어떻게 취업계 신청해야하는지? 일단 1달 취업계 내면 되는건지?
- 취업계 내려면 어떻게하면되죠
내일 취업계 담당선생님이 오시니 다시 전화해보기

[ $0.adjustsImageWhenHighlighted = false ]
강조될때 회색 되는거 없애기

[ 서버측 토큰 거르는 작업 획일화 ]
[ JWT 토큰으로 인증하는 과정 공부 ]
header를 뜯어서 토큰을 가져가는 소스가 안보이는 거임.. -> 이미 체제가 잡혀있다
검색해보니 AuthenticationFilter란놈이 http리퀘스트를 가로채감. 
얘는 FilterChain을 쭉 통과시키는데,
경근님은 AuthenticationFilter 안에 있는 FilterChain에다가 doFilter를 오버라이딩해서 체인에 추가해놓았고,
그 안에서 JWT토큰을 뜯어봄. (헤더에서 X-AUTH-TOKEN을 가져감)

토큰이 들어있고, 유효한 토큰일 경우, 

토큰에서 Authentication를 뽑아내고 보안컨텍스트에 저장.
..
여기서 건드니까 잘 안되누
흠
공부더 해보니까
스프링이 있고 그걸 스프링 시큐리티가 감싸고있음
필터를 쭉 통과신키는데
거기서 발생한 오류는 스프링 밖에서 처리해줘야함
그래서 나름 한거라고 생각했는데 리스폰이 이상하게오네
내일 제대로 다시 ㄱ


## 일일보고 
kkPoint
- 권한 요청 뷰, 쿠폰 상점 뷰 UI 및 기능 구현
- 무료충전소 애디스콥 연동. ( RV, 오퍼월 띄우기 완료 )
- 구독 관련 기능 구현 ( 로그인 여부, 다른 계정, 구독 정보 변경 대응 완료 )
- 스프링 시큐리티에서 토큰 인증 에러처리 시도 중

기타
- SpringSecurity 플로우 파악


## 해야할 Task Queue
- 오퍼월(무료충전소) 띄우는거는 애디스콥에 있는 뷰 프레젠트
- 쿠폰 iOS, server, DB 수정
- 쿠폰 플로우 ( CSV파일 bulk 업로드 구현 )
- 디비 파티셔닝? 인덱싱( where조건에 들어갈 애들 전부 )?
- 클러스터링 인덱스 공부하기 (인덱스가 유효한 경우가 있고 아닌 겨웅가 있다.. 개발자는 예상하고 실제로 돌려보면서 인덱스를 적용하는 방식ㅇ...으억 )
- UISwitch 공부하기
- RV배너가 뭐고, 인터스티셜은 뭐고.. 파악하기
- 네트워크 매니저 컴바인 보강하기
- CI CD
- 트랜잭셔널 디버그 사진찍기
- lotty 써보기
- 기획이슈 물어보기 ( 연관 상품, 인기 영상, 유튜브 API 여부 )
- 광고 시청시 포인트 획득 2중인증

## 포스팅 아이디어
Constraint, 오토레이아웃 변천사
macOS 변천사?
button같은거 repeat으로 생성자 넣으면 같은 주소를 바라보는 객체들만 생김.. ㅡㅡ
트랜잭셔널 기본값 확인
서버 2중인증 카카오, 구글, 애플
JWT토큰
uuid로 다른 디바이스 로그인 방지
알람 권한에 대해.. 디바이스, 계정 등.. 간단하게 할때는 디바이스만한다.. ㅇㅋㅇㅋ
토큰처럼 긴 string은 지맘대로 변하는것 하지만, 실제 값에는 지장없는것
좌우 흔드는 애니메이션 ( 계산기 적용 완료 )
keychain
UISwitch
강조될 때 회색되는거 없애기 $0.adjustsImageWhenHighlighted = false
GestureRecognizer
스프링 시큐리티

