# 빌드시간 줄이기

두번째로, Build에 관하여 도움줄만한 것과 다양한 환경변수에 의한 빌드의 최선책입니다.
빌드에 있어 영향을 줄 수 있는 요소는 3가지가 있다고 생각합니다.
또한, 각각의 요소는 차가 목적지에 도달하려고 할 때와 비교할 수 있다고 생각해보았구요.

첫번째 코드에 의한 영향 -> 차의 성능을 좋게하는 것입니다. 
두번째 빌드 환경에 의한 영향 ->  차가 지나가는 길을 좋게하는 것입니다. 비포장 도로에서 고속도로로.
세번째 빌드 자동화에 의한 영향 -> 도로의 교통체중을 없앤다. ㅡ
    0.    첫번째 코드에 의한 영향입니다.
코드를 짤 떄, 빌드시 컴파일러가 고려하는 경우의 수를 줄이면 빌드 속도가 빨라진다는 것은
자연스러운 생각합니다.

때문에, 프로퍼티 선언시 var 보다는 let을 사용하고,
타입 추론을 안해도 되게 타입을 명시해줍니다.
접근 제한자는 최대한 타이트하게 해주고,
상속이 필요없는 클래스나 오버라이딩이 필요없는 메소드는 final을 선언해줍니다.
프로토콜 또한, 클래스만 채택할 경우 class를 명시하여 제한해줍니다.

추가로 final이나 private로 선언된 메소드나 프로퍼티는 컴파일 시간에 static하게 처리해줌으로써
성능에 큰 도움을 줍니다. ( 런타임에 주소 탐색 시간을 절약 )
ㅡ
    0.    더 나아가서, 참조타입보다는 값 타입을 사용하는 것이 좋습니다. 참조타입은 힙을 할당하여 힙에서 빈곳을 찾는 시간 + 스레드 세이프를 위한 동기화 시간이 필요하며 레퍼런스 카운트도 존재하지만, 값타입은 단순히 스택포인터를 조절하는 시간이 필요하며, 레퍼런스 카운트도 없습니다.  극한의 최적화를 위한 팁으로, 정수 연산시 비트연산자나 오버플로 연산자를 사용하면, 오버플로 체크를 하는 시간을 절약할 수 있습니다.
ㅡ 3. 두번째, 빌드 환경에 의한 영향입니다.
빌드환경에 의한 영향은 6가지 정도를 정리했습니다.
    0.    첫째, 애플은 WWDC2017에서 Xcode9과 함께 새로운 빌드 시스템을 발표했고 이를 사용하도록 합니다.
    0.    아키텍처 임팩트를 Yes로 설정하면, 32bit, 64bit 등 여러 아키텍처 모두가 아닌, 지금 현재의 아키텍처 하나에 대해서만 바이너리를 생성합니다.
    0.    컴플레이션 모드를 인그리맨털로 설정할 경우, 수정한 파일만 컴파일하여 빌드시간을 크게 단축할 수 있습니다.
    0.    옵티미제이션 레벨을 설정 하므로써, 빌드 속도와 디버그 정보의 안정성 사이에서 자신에게 맞는 것을 고를 수 있습니다.
    0.    기본적으로 Xcode는 CPU코어 수 만큼 스레드를 사용하지만, 이를 늘려서 빌드 속도를 향상할 수 있습니다.
    0.    dYMS파일은 충돌 보고서 파일이며, 이를 생성하는데 시간이 오래걸리기 때문에 디버그 빌드시 비활성화합니다

ㅡ
    0.    마지막, 빌드 자동화에 의한 영향입니다. xcodebuild 기반의 명령어들로 빌드부터 ipa 생성까지의 과정을 수행할 수 있으며, 이는 스크립트를 이용한 자동화가 가능하다는 것입니다. 해당 과정에 사람이 일일히 개입하는 것은 마치 자동차가 달리다가 교통체중에 의해 뚝뚝 멈추는 것과 비슷하다고 생각합니다. 때문에 자동화 하는 것이 빌드의 최선책이라고 생각합니다! ㅡ
xcodebuld는 man xcodebuld 혹은 xcodebuild -help를 통해 사용법을 확인하실 수 있으며,
엑스코드 빌드, 아카이브, 워크스페이스 경로, 스키마, 아카이브 생성 경로를 통해 아카이브 생성을 할 수 있습니다.
ㅡ
생성된 아카이브로부터 ipa를 생성할 수 있으며,
이때 ExportOptions이라는 파일을 통해 코드사이닝과 배포 옵션을 세팅할 수 있습니다.
 아직 자동화를 하지는 못했지만, 스크립트로 ipa 생성까지 성공했기 때문에 금방 자동화에 성공할것입니다.
ㅡ

