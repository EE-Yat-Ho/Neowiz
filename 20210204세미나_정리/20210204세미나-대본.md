대본
오늘 네오위즈 라이프 전반에 걸처 리뷰해보는 세미나 발표를 맡은 박영호입니다.
ㅡ
해당 발표는 Xcode, Build, Constraint, 서버개발자에게 좋은 클라이언트 개발자, KKPoint 기술, 이번 경험이 커리어에 주는 영향, 지금까지 본 각 팀의 연관관계, 업무 환경에서의 개선이나 욕심 순서로 진행됩니다.
ㅡ
첫번째로 엑스코드에 관하여입니다.
Xcode에 관한 것을 살표보는 것은, Xcode를 왜 사용하는가를 생각해보면 가장 와닿고 쉽게 설명할 수 있다고 생각합니다.
ㅡ
이를 위해서 먼저 애플의 행보에 대해 설명드리겠습니다.
애플은 하드웨어로 매킨토시와, 아이폰을 만들었고,
이 하드웨어에서 돌아가는 macOS. ( 과거엔 OS X였지만 Siera부터 명명이 바뀌었습니다) 그리고 iOS를 만들었습니다.

이 OS들은 Objective-C 사용을 가정하고 만들었으며, 초기에는 Objective-C를 표준언어로 채택하였습니다.
하지만 사람들이 옵씨를 너무 비직관적이고 어려워하자, 옵씨를 래핑한 Swift라는 프로그래밍 랭귀지를 만들었습니다.

여기서 애플은 자신들의 OS에서 사용는 응용SW를 자신들의 PL로 잘 만들수있게 하기 위해,
갖가지 도구와 최적화를 제공하는 IDE를 만들었으니, 그것이 바로 Xcode 입니다.
그렇기 때문에, 우리는 Xcode를 사용해야합니다.
ㅡ
그다음, Xcode의 특징입니다.
Xcode의 컴파일러는 GCC에서 Xcode 4부터 LLVM을 기본 컴파일러로 바꾸었습니다.

때문에, CGG 였을 때 부터, C, C++, 옵씨, 자바 등 다양한 언어 컴파일이 가능했었고, LLVM으로 바꾸고 부터 애플은 자신만의 파서를 만들고 보다 애플스러운 프로그래밍과 디버깅 방식이 만들 수 있었습니다.
또한 화면을 그릴때, OpenGL의 파이프라인을 사용하고 있습니다. 
(그 이유는 GCC는 컴파일이 목적이지 파싱이 목적이 아니기때문에
IDE와 보다 나은 상호운영성을 위해 LLVM으로 바꿈)
ㅡ
다른 특징으로, 
    0.    StoryBoard, PreView 등의 인터페이스 빌더와의 연계와 IDE로써 기본적인 문서 브라우저, 클래스 브라우저를 가지고 있습니다.

    0.    Git, SVN을 통한 형상관리와 Asset Catalog를 이용한 리소스 관리,

    0.    디버그 네비게이터, 디버그 뷰 하이랄키, 디버그 메모리 그래프 등을 이용한 모니터링과 디버그, 
    0.    그 외에도 시뮬레이터, 유닛테스트 등 개발을 위한 많은 기능들이 들어있습니다.   끝
ㅡ

두번째로, Build에 관하여 도움줄만한 것과 다양한 환경변수에 의한 빌드의 최선책입니다.
빌드에 있어 영향을 줄 수 있는 요소는 3가지가 있다고 생각합니다.
또한, 각각의 요소는 차가 목적지에 도달하려고 할 때와 비교할 수 있다고 생각해보았구요.

첫번째 코드에 의한 영향 -> 차의 성능을 좋게하는 것입니다. 
두번째 빌드 환경에 의한 영향 ->  차가 지나가는 길을 좋게하는 것입니다. 비포장 도로에서 고속도로로.
세번째 빌드 자동화에 의한 영향 -> 도로의 교통체중을 없앤다. ㅡ
    0.    첫번째 코드에 의한 영향입니다.
코드를 짤 떄, 빌드시 컴파일러가 고려하는 경우의 수를 줄이면 빌드 속도가 빨라진다는 것은
자연스러운 생각합니다.

때문에, 프로퍼티 선언시 var 보다는 let을 사용하고,
타입 추론을 안해도 되게 타입을 명시해줍니다.
접근 제한자는 최대한 타이트하게 해주고,
상속이 필요없는 클래스나 오버라이딩이 필요없는 메소드는 final을 선언해줍니다.
프로토콜 또한, 클래스만 채택할 경우 class를 명시하여 제한해줍니다.

추가로 final이나 private로 선언된 메소드나 프로퍼티는 컴파일 시간에 static하게 처리해줌으로써
성능에 큰 도움을 줍니다. ( 런타임에 주소 탐색 시간을 절약 )
ㅡ
    0.    더 나아가서, 참조타입보다는 값 타입을 사용하는 것이 좋습니다. 참조타입은 힙을 할당하여 힙에서 빈곳을 찾는 시간 + 스레드 세이프를 위한 동기화 시간이 필요하며 레퍼런스 카운트도 존재하지만, 값타입은 단순히 스택포인터를 조절하는 시간이 필요하며, 레퍼런스 카운트도 없습니다.  극한의 최적화를 위한 팁으로, 정수 연산시 비트연산자나 오버플로 연산자를 사용하면, 오버플로 체크를 하는 시간을 절약할 수 있습니다.
ㅡ 3. 두번째, 빌드 환경에 의한 영향입니다.
빌드환경에 의한 영향은 6가지 정도를 정리했습니다.
    0.    첫째, 애플은 WWDC2017에서 Xcode9과 함께 새로운 빌드 시스템을 발표했고 이를 사용하도록 합니다.
    0.    아키텍처 임팩트를 Yes로 설정하면, 32bit, 64bit 등 여러 아키텍처 모두가 아닌, 지금 현재의 아키텍처 하나에 대해서만 바이너리를 생성합니다.
    0.    컴플레이션 모드를 인그리맨털로 설정할 경우, 수정한 파일만 컴파일하여 빌드시간을 크게 단축할 수 있습니다.
    0.    옵티미제이션 레벨을 설정 하므로써, 빌드 속도와 디버그 정보의 안정성 사이에서 자신에게 맞는 것을 고를 수 있습니다.
    0.    기본적으로 Xcode는 CPU코어 수 만큼 스레드를 사용하지만, 이를 늘려서 빌드 속도를 향상할 수 있습니다.
    0.    dYMS파일은 충돌 보고서 파일이며, 이를 생성하는데 시간이 오래걸리기 때문에 디버그 빌드시 비활성화합니다

ㅡ
    0.    마지막, 빌드 자동화에 의한 영향입니다. xcodebuild 기반의 명령어들로 빌드부터 ipa 생성까지의 과정을 수행할 수 있으며, 이는 스크립트를 이용한 자동화가 가능하다는 것입니다. 해당 과정에 사람이 일일히 개입하는 것은 마치 자동차가 달리다가 교통체중에 의해 뚝뚝 멈추는 것과 비슷하다고 생각합니다. 때문에 자동화 하는 것이 빌드의 최선책이라고 생각합니다! ㅡ
xcodebuld는 man xcodebuld 혹은 xcodebuild -help를 통해 사용법을 확인하실 수 있으며,
엑스코드 빌드, 아카이브, 워크스페이스 경로, 스키마, 아카이브 생성 경로를 통해 아카이브 생성을 할 수 있습니다.
ㅡ
생성된 아카이브로부터 ipa를 생성할 수 있으며,
이때 ExportOptions이라는 파일을 통해 코드사이닝과 배포 옵션을 세팅할 수 있습니다.
 아직 자동화를 하지는 못했지만, 스크립트로 ipa 생성까지 성공했기 때문에 금방 자동화에 성공할것입니다.
ㅡ

다음은 Constraint입니다.
콘스트레인트. 즉 제약사항은, 뷰의 레이아웃 방법이며, 뷰를 레이아웃하는 방법은 아래와 같이 발전해왔습니다. 프레임에서 오토리사이징, 그리고 오토레이아웃으로.
오토레이아웃 또한 이런식으로 발전을 하였습니다. ㅡ
    0.    가장 첫번째 방식입니다. 프레임 베이스드 레이아웃으로, 뷰를 처음부터 픽셀단위로 고정시켜버리고, 런타임에 변화되는 뷰들의 구조는 개발자가 계산하고 코딩해야했습니다. 때문에 가로모드나 다양한 화면에 대응하는 뷰 구조 또한 새롭게 필요한 아주 고전적인 방식입니다. ㅡ
    0.    이런 방식은 iPhone 5와 iPad가 나오면서 불편함이 극에 달했고, 애플은 이에 AutoResizingMask라는 것을 발표하게됩니다. ㅡ 뷰의 초기위치를 가지고, 부모뷰와의 관계를 설정하여 부모 뷰의 크기가 변화할 때 자식 뷰들이 자동으로 반응하는 방식입니다. 보시면, AutoResizingMask를 사용함으로써 초록색 부모뷰의 크기가 줄어들때 자식뷰인 빨간색 뷰도 줄어드는것을 확인할 수 있습니다. ㅡ
    0.    오토 리사이징 마스크를 통해 보다 유연하게 다양한 화면에 대응할 수 있었지만, 형제 뷰 끼리의 제약을 생성하는데 매우 부자연스러웠고, 코드가 직관적이지 못했습니다.
ㅡ
    0.    이에 애플은 다시한번 대책을 내놓으니 그것이바로 AutoLayout입니다. 뷰 레이아웃의 근간을 프레임이 아닌 뷰들의 관계로 봄으로써 패러다임을 전환했습니다. 개발자가 설정한 제약사항을 기반으로 뷰들의 위치와 크기가 동적으로 조정되며 이로인해 다양한 화면 대응은 물론이며, 보다 직관적인 코딩이 가능해졌습니다. ㅡ
    0.    오토레이아웃은 다음과같은 4가지 방식으로 코딩이 가능합니다. 모든 방식은 NSLayoutConstraint인스턴스를 생성하여 제약을 추가하는데, 이를 어떻게 생성하는지와 래핑의 여부에 따라 달라집니다. ㅡ
    0.    가장 처음나온 NSLayout 방식입니다. 하나의 NSLayoutConstraint 인스턴스를 생성하는데 있어 온갖 조건을 다 갖다붙힌 형태입니다. ㅡ
    0.    보시다시피 소스가 길고, 직관적이지 않습니다. ㅡ
    0.    다음은 Visual 포맷 방식입니다. 마찬가지로 엔에스레이아웃콘스트레인트 인스턴스로 하나의 제약을 추가하는데 마치 문자열에 뷰를 그리듯이 생성합니다 ㅡ
    0.    이로인해 일렬로 된 제약사항은 한줄로 처리가 가능하여 소스가 짧습니다 하지만 시각화와 직관성에 치중하여 지원하지않는 기능이 존재합니다. ㅡ
    0.    다음은 앵커 방식입니다. 애플에서 NSLayoutAnchor라는 클래스로 래핑하여 제약을 좀더 간결하고 명확하게 사용할 수 있게 해주었습니다. ㅡ
    0.    그림을 보시다시피 NSLayout 방식과 Achor 방식의 소스 길이와 직관성은 차이가 심합니다.
하지만 Anchor방식 또한 .constraint나 .isActive = true나 오토리사이징을 꺼주는 등의 작업이 귀찮습니다. ㅡ 이를 간편화한 라이브러리로 스냅킷이 있습니다. 추가로 간편한 축약기능도 있습니다. ㅡ
    0.    앵커와 스냅킷의 소스 비교입니다. 보시면 소스의 차이를 확연하게 느끼실수 있습니다. 이상으로 콘스트레인트에 대해 알아보았습니다.


ㅡ

다음은 서버 개발자가 생각하는 좋은 클라이언트 개발자입니다.
    0.    저는 서버개발자가 생각하는 좋은 클라이언트 개발자란, 직접 서버 개발을 해본 결과, DB 테이블과 API 제작 및 설계를 잘 알고있고, 정확한 API를 요구하는 클라이언트 개발자라고 생각합니다.
    0.    그 이유를 설명드리겠습니다. ㅡ 서버 프로그래밍은 API를 통해 적절한 데이터를 클라이언트에게 제공하는 것이 그 근간입니다. 즉 API란 서버 개발의 중심에 있기 때문에 API가 바뀔 경우, DTO구조, 데이터 빌딩, 쿼리문 등 온갖 소스에 영향을 주게되고, 이는 곧 개발 리소스 낭비로 이어지게 됩니다. 때문에 정확하고 효율적인 API를 처음부터 잘 설계하는 것이 서버 프로그래밍에 있어서 중요합니다.
    0.    그렇다면 정확하고 효율적인 API를 설계하려면 어떻게 해야할까? ㅡ API는 단순한 CRUD가 아닌 이상, 클라이언트의 시나리오에 따라 무궁무진합니다. 때문에 시나리오에 직접 대응하는 클라이언트 개발자가 API 명세를 만들수있고, API 명세를 만들 수 있는 클라이언트 개발자가 DB와 API 개발에 대해 잘 알고있으면, 보다 정확하고 효율적인 API 설계가 가능할 것이라고 생각합니다. ㅡ
    0.    따라서! 서버개발자는, DB 테이블과 API 제작 및 설계를 잘 알고있고, 정확한 API를 요구하는 클라이언트 개발자를 선호할 것이라 생각합니다.
ㅡ


다음은 KK Point에서 쓰이는 기술 && 앞으로 사용될 기술 입니다.
    0.    저는 디비, 서버, 클라이언트로 나누어보았으며, ㅡ
    0.    첫번째 디비입니다.
동적 데이터는 AWS의 RDS, 캐시로 엘라스틱캐시를 사용하며,
RDS에 마스터-레플리카 구조와 오로라 MySQL엔진을 사용중이빈다.
정적 데이터는 마찬가지로 AWS의 S3와 캐시로 CloudFront를 사용중입니다.
추후에 서비스가 커짐에 따라 디비 서버 증설이 될것으로 예상됩니다.
ㅡ
    0.    두번재 서버입니다. JPA와 스프링 부트로 개발하고 있으며, 코드 커밋에 레포지토리를 저장하고 EC2로 빌드 및 배포중입니다. 코드 빌드로 푸시에서 빌드까지 자동화 파이프라인을 구축해있으며 허가되지않은 외부 침입을 차단하기 위해 베스천 호스트를 사용중입니다. ㅡ
    0.    마지막으로 클라이언트입니다 현재 iOS 단독으로 개발중이며 카카오 구글 애플 소셜로그인 기능이 있습니다. 유튜브 영상 재생이 가능하고, 알라모파이어, 킹피셔, 스냅킷 등의 서드파티를 사용중이며, 파이어베이스 애널리스틱을 적용하는 중입니다. 추후에 광고기능과 포인트 습득 및 쿠폰 구매 기능, AOS 개발이 진행될 것 같습니다.
ㅡ

다음은 이번 기회가 이력서에 어떻게 어필 될 것인가 입니다.
이번 기회는 저에게있어서 아래와 같은 다양한 커리어가 될 것입니다

첫번째로 MVC 개발 경험입니다.
개인 프로젝트를 제외하면 MVC 프로젝트가 처음이기때문입니다.
이로써 MVC와 MVVM 모두를 경험한 개발자가 될 수 있습니다.

두번째로 JPA / SpringBoot 기반 서버 개발 경험입니다.
서버 개발은 정말 문외한이었고, 경험해볼 기회도 거의 없었기때문에 이번 경험으로 개발 레버리지가 정말 크게 늘어났습니다.
서버 개발을 경험해본 클라이언트 개발자가 되는, 정말 의미있는 경험입니다.

세번째로 AWS 개발 경험입니다.
실무에서 많이 사용되는 AWS를 경험해보고 공부하면서, 처음엔 정말 귀찮고 어려웠지만,
공부를 하면 할수록 정말 간편하고 강력한 서비스임을 깨닫고
앞으로의 개발자 라이프에 있어서 꼭 필요한 경험을 했다는 생각이 듭니다.

네번째로 빌드 자동화 경험입니다.
민재님이 추천해주신 빌드 자동화를 통해, 단순히 iOS만 하는 개발자였던 제가,
Xcode에 대한 의존성을 낮추고, 빌드에 대한 지식을 폭넓게 넓힐 수 있었습니다.
ㅡ

다음은 지금까지 본 각 팀의 역할입니다. 저는 새로운 사업 아이템의 흐름에 따라 정리를 해보았습니다.
    0.    사업팀에서 새로운 사업 아이템을 시장조사하고 발굴합니다.
    0.    기획팀에서 해당 아이템을 기획하고 플로우를 작성합니다
    0.    디자인팀과 개발팀에서 개발을 진행합니다
    0.    기획팀에서 QA를 진행하고 사업아이템을 출시합니다.
    0.    수익화팀은 현재 사업중인 서비스에 대한 CS 처리나 CPS 협의등을 합니다
ㅡ

다음은 업무환경에서 개선이 필요하거나 욕심나는 부분입니다.
저는 AWS 구조를 면밀히 파악하고 싶으며,
적극적인 코드리뷰 문화가 있었으면 좋겠다고 생각합니다.

AWS는 정말 알면 알수록 유용한 도구임에 자격증 욕심까지도 생겼습니다.
앞으로 개인 프로젝트나 팀 프로젝트나 모두 유용하게 쓰일 것임이 확실하기 때문에 완벽하게 구조를 파악하고싶습니다.

또한 코드리뷰를 정기적으로 많이했으면 좋겠습니다.
최근 경근님과 서버 코드리뷰를 진행하면서, 서버 코딩을 하면서 생긴 자잘한 의문점들 중에 사석에서 질문하기 애매한 그런 것들..
예를 들어 두가지 방식 모두 장단이 있어 보이기때문에 검색으로는 명쾌한 답이 안나오고, 상세한 설명이나 현직 경험에 의한 답변을 듣고싶은 것들을
편하게 물어볼수도 있고, 생각지 못한 개발 팁들을 많이 배웠기 때문입니다.



